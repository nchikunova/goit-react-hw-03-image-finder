{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","App.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/api-service.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","onSubmit","props","className","styles","SearchForm","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","modalHandle","largeImageURL","onClick","src","alt","ImageGallery","images","map","id","webformatURL","Button","onBtnClick","Loader","Spinner","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","onClose","code","handleBackdropClick","event","target","window","addEventListener","removeEventListener","largeUrl","createPortal","Overlay","API_KEY","axios","defaults","baseURL","imageApi","getImages","searchQuery","currentPage","get","then","res","data","hits","App","isLoading","error","showModal","onChangeQuery","toggleModal","prevState","fetchImages","imagesAdd","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","prevProps","RenderLoadMoreButton","length","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.053c93b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__WFCM2\",\"Modal\":\"Modal_Modal__38Tbq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2lNPW\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2XBjh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__D0cwU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__19Z3g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__1qBtj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__b4YJ3\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { query } = this.state;\r\n    onSubmit(query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles['SearchForm-button']}>\r\n            <span className={styles['SearchForm-button-label']}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles['SearchForm-input']}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ url, modalHandle, largeImageURL }) => {\r\n  const handleModal = () => {\r\n    modalHandle(largeImageURL);\r\n  };\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={handleModal}>\r\n      <img src={url} alt=\"\" className={['ImageGalleryItem-image']} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  modalHandle: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, modalHandle }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          url={webformatURL}\r\n          modalHandle={modalHandle}\r\n          largeImageURL={largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  modalHandle: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css'\r\n\r\nconst Button = ({ onBtnClick }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={() => onBtnClick()}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onBtnClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import styles from './Loader.module.css';\r\nimport React, { Component } from 'react';\r\nimport Spinner from 'react-loader-spinner';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.Spinner}>\r\n        <Spinner type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} timeout={3000}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Loader;\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    const { onClose } = this.props;\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    const { onClose } = this.props;\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeUrl } = this.props;\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>\r\n          <img src={largeUrl} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\n\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '20819091-08c8bb3eae10a910768ed4869';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst getImages = (searchQuery, currentPage = 1) => {\r\n   return axios\r\n   .get(`?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,)\r\n   .then(res => res.data.hits);\r\n}\r\n\r\nconst imageApi = { getImages };\r\n\r\nexport default imageApi;","import React, { Component } from 'react';\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Loader from './components/Loader';\r\nimport Modal from './components/Modal';\r\nimport imageApi from './services/api-service';\r\nimport styles from './App.module.css'\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    currentPage: 1,\r\n    searchQuery: '',\r\n    isLoading: false,\r\n    error: null,\r\n    showModal: false,\r\n    largeUrl: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      currentPage: 1,\r\n      images: [],\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  toggleModal = url => {\r\n    this.setState(prevState => ({\r\n      showModal: !prevState.showModal,\r\n      largeUrl: url,\r\n    }));\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, currentPage } = this.state;\r\n    this.setState({ isLoading: true });\r\n    imageApi\r\n      .getImages(searchQuery, currentPage)\r\n      .then(images => {\r\n        const imagesAdd = images.map(\r\n          ({ id, webformatURL, largeImageURL }) => ({\r\n            id,\r\n            webformatURL,\r\n            largeImageURL,\r\n          }),\r\n        );\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...imagesAdd],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  render() {\r\n    const { showModal, isLoading, error, largeUrl, images } = this.state;\r\n    const RenderLoadMoreButton =\r\n      this.state.images.length > 0 && !this.state.isLoading;\r\n    return (\r\n      <>\r\n        {showModal && <Modal largeUrl={largeUrl} onClose={this.toggleModal} />}\r\n        <div className={styles.App}>\r\n          <Searchbar onSubmit={this.onChangeQuery} />\r\n          {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n          <ImageGallery images={images} modalHandle={this.toggleModal} />\r\n        </div>\r\n        {isLoading && <Loader />}\r\n       {RenderLoadMoreButton && (\r\n          <Button onBtnClick={this.fetchImages} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport './styles.css'\r\nimport 'modern-normalize/modern-normalize.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__yKr2o\",\"SearchForm\":\"Searchbar_SearchForm__38hIM\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1rrSU\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2htdG\",\"SearchForm-input\":\"Searchbar_SearchForm-input__11Lzg\"};"],"sourceRoot":""}